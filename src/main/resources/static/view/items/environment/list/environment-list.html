<div ng-controller="EnvironmentListController" ng-switch="listStatus">
	<div ng-switch-when="loading">
		<div id="page-spinner-panel"><i class="fa fa-spinner fa-spin fa-5x"></i></div>
	</div>
	<div ng-switch-when="error">
		<p><i class="fa fa-exclamation-triangle"></i> Couldn't load environments.</p>
	</div>
	<div ng-switch-when="loaded">
		<div class="page-header">
			<ul class="breadcrumb">
				<li><a ng-href="{{uri()}}">Home</a></li>
			</ul>
			<h1>
				Environments
				<span ng-if="items.length === 0"><small>(0)</small></span>
				<!-- FIXME Convert to paging repo -->
				<span ng-if="items.length &gt; 0"><small>(1-{{items.length}} of {{items.length}})</small></span>
			</h1>
		</div>
		<div ng-if="items.length == 0">
			<p><i class="fa fa-info-circle"></i> No environments.</p>
		</div>
		<div ng-if="items.length &gt; 0">
			<table class="table">
				<colgroup>
					<col style="width:25%">
					<col style="width:25%">
					<col style="width:50%">
				</colgroup>
				<thead>
					<tr>
						<th>Environment</th>
						<th>AKA</th>
						<th>Description</th>
					</tr>
				</thead>
				<tbody>
					<!-- FIXME Better for the API itself to sort the environments [WLW] -->
					<tr ng-repeat="environment in items">
						<td><a ng-href="{{uri('environments', environment.key)}}">{{environment.name}}</a></td>
						<td>{{environment.aka}}</td>
						<td>{{environment.description}}</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>
